{"remainingRequest":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\router.js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\router.js","mtime":1563276842773},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Index from './components/Index.vue';\nimport IndexSearch from './components/index/IndexSearch.vue';\nimport Main from './components/Main.vue';\nimport Star from './components/Star.vue';\nimport StarInfo from './components/star/StarInfo.vue';\nimport Doughnut from './components/Doughnut.vue';\nimport Shopcart from './components/Shopcart.vue';\nimport Product from './components/shopcart/Product.vue';\nimport ProductInfo from './components/shopcart/ProductInfo.vue';\nimport My from './components/My.vue';\nVue.use(Router); // 2 配置路径\n\nvar router = new Router({\n  routes: [{\n    path: '/',\n    redirect: '/index'\n  }, {\n    path: '/index',\n    name: 'index',\n    component: Index\n  }, {\n    path: '/index/search',\n    name: 'index-search',\n    component: IndexSearch\n  }, {\n    path: '/main',\n    name: 'main',\n    component: Main\n  }, {\n    path: '/star',\n    name: 'star',\n    component: Star\n  }, {\n    path: '/star/starinfo/:id',\n    name: 'starinfo',\n    component: StarInfo\n  }, {\n    path: '/doughnut',\n    name: 'doughnut',\n    component: Doughnut\n  }, {\n    path: '/shopcart',\n    name: 'shopcart',\n    component: Shopcart\n  }, {\n    path: '/shopcart/product',\n    name: 'shopcart-product',\n    component: Product\n  }, {\n    path: '/shopcart/product/:id',\n    name: 'shopcart-product-id',\n    component: ProductInfo\n  }, {\n    path: '/my',\n    name: 'my',\n    component: My\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var nextRoute = ['index', 'index-search', 'main', 'star', 'starinfo', 'doughnut', 'shopcart'];\n  var isLogin = global.isLogin;\n  console.log(nextRoute.indexOf(to.name));\n\n  if (nextRoute.indexOf(to.name) >= 0) {\n    if (!isLogin) {\n      router.push({\n        name: 'my'\n      });\n    }\n  }\n\n  if (to.name === 'my') {\n    if (isLogin) {\n      router.push({\n        name: 'main'\n      });\n    }\n  }\n\n  next();\n});\nexport default router;",{"version":3,"sources":["src\\router.js"],"names":["Vue","Router","Index","IndexSearch","Main","Star","StarInfo","Doughnut","Shopcart","Product","ProductInfo","My","use","router","routes","path","redirect","name","component","beforeEach","to","from","next","nextRoute","isLogin","global","console","log","indexOf","push"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,EAAP,MAAe,qBAAf;AACAX,IAAIY,GAAJ,CAAQX,MAAR,E,CACA;;AAEA,IAAMY,SAAU,IAAIZ,MAAJ,CAAW;AACzBa,UAAQ,CACN;AAACC,UAAK,GAAN;AAAUC,cAAS;AAAnB,GADM,EAEN;AAACD,UAAK,QAAN;AAAeE,UAAK,OAApB;AAA4BC,eAAUhB;AAAtC,GAFM,EAGN;AAACa,UAAK,eAAN;AAAsBE,UAAK,cAA3B;AAA0CC,eAAUf;AAApD,GAHM,EAIN;AAACY,UAAK,OAAN;AAAcE,UAAK,MAAnB;AAA0BC,eAAUd;AAApC,GAJM,EAKN;AAACW,UAAK,OAAN;AAAcE,UAAK,MAAnB;AAA0BC,eAAUb;AAApC,GALM,EAMN;AAACU,UAAK,oBAAN;AAA2BE,UAAK,UAAhC;AAA2CC,eAAUZ;AAArD,GANM,EAON;AAACS,UAAK,WAAN;AAAkBE,UAAK,UAAvB;AAAkCC,eAAUX;AAA5C,GAPM,EAQN;AAACQ,UAAK,WAAN;AAAkBE,UAAK,UAAvB;AAAkCC,eAAUV;AAA5C,GARM,EASN;AAACO,UAAK,mBAAN;AAA0BE,UAAK,kBAA/B;AAAkDC,eAAUT;AAA5D,GATM,EAUN;AAACM,UAAK,uBAAN;AAA8BE,UAAK,qBAAnC;AAAyDC,eAAUR;AAAnE,GAVM,EAWN;AAACK,UAAK,KAAN;AAAYE,UAAK,IAAjB;AAAsBC,eAAUP;AAAhC,GAXM;AADiB,CAAX,CAAhB;AAeAE,OAAOM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,YAAY,CAAC,OAAD,EAAU,cAAV,EAA0B,MAA1B,EAAkC,MAAlC,EAA0C,UAA1C,EAAsD,UAAtD,EAAiE,UAAjE,CAAlB;AACA,MAAIC,UAAUC,OAAOD,OAArB;AACAE,UAAQC,GAAR,CAAYJ,UAAUK,OAAV,CAAkBR,GAAGH,IAArB,CAAZ;;AACA,MAAIM,UAAUK,OAAV,CAAkBR,GAAGH,IAArB,KAA8B,CAAlC,EAAqC;AACnC,QAAI,CAACO,OAAL,EAAc;AACZX,aAAOgB,IAAP,CAAY;AAAEZ,cAAM;AAAR,OAAZ;AACD;AACF;;AACD,MAAIG,GAAGH,IAAH,KAAY,IAAhB,EAAsB;AACpB,QAAIO,OAAJ,EAAa;AACXX,aAAOgB,IAAP,CAAY;AAAEZ,cAAM;AAAR,OAAZ;AACD;AACF;;AACDK;AACD,CAfD;AAgBA,eAAeT,MAAf","sourceRoot":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nimport Index from './components/Index.vue'\r\nimport IndexSearch from './components/index/IndexSearch.vue'\r\nimport Main from './components/Main.vue'\r\nimport Star from './components/Star.vue'\r\nimport StarInfo from './components/star/StarInfo.vue'\r\nimport Doughnut from './components/Doughnut.vue'\r\nimport Shopcart from './components/Shopcart.vue'\r\nimport Product from './components/shopcart/Product.vue'\r\nimport ProductInfo from './components/shopcart/ProductInfo.vue'\r\nimport My from './components/My.vue'\r\nVue.use(Router)\r\n// 2 配置路径\r\n\r\nconst router =  new Router({\r\n  routes: [\r\n    {path:'/',redirect:'/index'},\r\n    {path:'/index',name:'index',component:Index},\r\n    {path:'/index/search',name:'index-search',component:IndexSearch},\r\n    {path:'/main',name:'main',component:Main},\r\n    {path:'/star',name:'star',component:Star},\r\n    {path:'/star/starinfo/:id',name:'starinfo',component:StarInfo},\r\n    {path:'/doughnut',name:'doughnut',component:Doughnut},\r\n    {path:'/shopcart',name:'shopcart',component:Shopcart},\r\n    {path:'/shopcart/product',name:'shopcart-product',component:Product},\r\n    {path:'/shopcart/product/:id',name:'shopcart-product-id',component:ProductInfo},\r\n    {path:'/my',name:'my',component:My},\r\n  ],\r\n})\r\nrouter.beforeEach((to, from, next) => {\r\n  const nextRoute = ['index', 'index-search', 'main', 'star', 'starinfo', 'doughnut','shopcart'];\r\n  let isLogin = global.isLogin; \r\n  console.log(nextRoute.indexOf(to.name))\r\n  if (nextRoute.indexOf(to.name) >= 0) {  \r\n    if (!isLogin) {\r\n      router.push({ name: 'my' })\r\n    }\r\n  }\r\n  if (to.name === 'my') {\r\n    if (isLogin) {\r\n      router.push({ name: 'main' });\r\n    }\r\n  }\r\n  next();\r\n});\r\nexport default router;\r\n"]}]}