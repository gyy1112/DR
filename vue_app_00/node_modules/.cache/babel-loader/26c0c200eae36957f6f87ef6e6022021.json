{"remainingRequest":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\components\\index\\IndexSearch.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\components\\index\\IndexSearch.vue","mtime":1562719166853},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BScroll from 'better-scroll';\nexport default {\n  data: function data() {\n    return {\n      lists: [],\n      provice: []\n    };\n  },\n  created: function created() {\n    this.getshoplist();\n  },\n  // computed: {\n  //   currentIndex(){\n  //       for( let i = 0;i<this.listHeight.length;i++ ){\n  //         let height1 = this.listHeight[i];\n  //         let height2 = this.listHeight[i+1];\n  //         //当遍历到listHeight最后一个元素的时候，height2的值为undefined,如果是\n  //         //最后一个元素的话!height2为真，后面就不需要判断了\n  //         if( !height2 || (this.scrollY >= height1 && this.scrollY<height2)){\n  //           return i;\n  //         }\n  //       }\n  //       //默认情况下是返回第一个元素\n  //       return 0;\n  //   }\n  // },\n  mounted: function mounted() {\n    var _this = this;\n\n    // 设置20ms的延迟\n    setTimeout(function () {\n      _this._initScroll();\n    }, 20); // 监听窗口改变重置高度\n\n    window.addEventListener('resize', function () {\n      _this.height = window.innerHeight + 'px';\n    });\n  },\n  methods: {\n    selectMenu: function selectMenu(index, event) {\n      console.log(111);\n      var foodList = this.$refs.shoplist;\n      var el = foodList[index];\n      this.foodsScroll.scrollToElement(el, 300);\n    },\n    _initScroll: function _initScroll() {\n      this.menuScroll = new BScroll(this.$refs.lwrapper, {});\n      this.foodsScroll = new BScroll(this.$refs.rwrapper, {});\n    },\n    //  _calculateHeight(){\n    //       let foodList = this.$refs.shoplist; //获取到所有的ref='foodList'的DOM元素\n    //       let height = 0;\n    //       this.listHeight.push(height); //第一个元素的高度是0\n    //       for( let i =0;i<foodList.length;i++ ){\n    //         let item = foodList[i];\n    //         height += item.clientHeight;//通过原生DOM中的js获取到li的高度，并且累加\n    //         this.listHeight.push(height);\n    //       } \n    //   },\n    onClickLeft: function onClickLeft() {\n      this.$router.go(-1);\n    },\n    onClickRight: function onClickRight() {\n      this.$router.push('/main');\n    },\n    getshoplist: function getshoplist() {\n      var _this2 = this;\n\n      this.axios.get(\"index/search\").then(function (result) {\n        //console.log(result.data)\n        _this2.provice = result.data.provice;\n        console.log(result.data);\n        _this2.lists = result.data.address;\n        console.log(_this2.simg);\n      });\n    }\n  }\n};",{"version":3,"sources":["IndexSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,OAAA,MAAA,eAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,eAAA;AAFA,KAAA;AAIA,GANA;AAOA,SAPA,qBAOA;AACA,SAAA,WAAA;AACA,GATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAzBA,qBAyBA;AAAA;;AACA;AACA,eAAA,YAAA;AACA,YAAA,WAAA;AACA,KAFA,EAEA,EAFA,EAFA,CAKA;;AACA,WAAA,gBAAA,CAAA,QAAA,EAAA,YAAA;AACA,YAAA,MAAA,GAAA,OAAA,WAAA,GAAA,IAAA;AACA,KAFA;AAGA,GAlCA;AAmCA,WAAA;AACA,cADA,sBACA,KADA,EACA,KADA,EACA;AACA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,WAAA,KAAA,KAAA,CAAA,QAAA;AACA,UAAA,KAAA,SAAA,KAAA,CAAA;AACA,WAAA,WAAA,CAAA,eAAA,CAAA,EAAA,EAAA,GAAA;AACA,KANA;AAOA,eAPA,yBAOA;AACA,WAAA,UAAA,GAAA,IAAA,OAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA,EAAA,CAAA;AAEA,WAAA,WAAA,GAAA,IAAA,OAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA,EAAA,CAAA;AAEA,KAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAvBA,yBAuBA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAzBA;AA0BA,gBA1BA,0BA0BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KA5BA;AA6BA,eA7BA,yBA6BA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,cAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,eAAA,OAAA,GAAA,OAAA,IAAA,CAAA,OAAA;AACA,gBAAA,GAAA,CAAA,OAAA,IAAA;AACA,eAAA,KAAA,GAAA,OAAA,IAAA,CAAA,OAAA;AACA,gBAAA,GAAA,CAAA,OAAA,IAAA;AAEA,OAPA;AAQA;AAtCA;AAnCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <van-nav-bar title=\"预约进店\" left-text=\"\" left-arrow @click-left=\"onClickLeft\">\r\n      <van-icon name=\"wap-home\" slot=\"right\" @click=\"onClickRight\" />\r\n      <van-icon name=\"bars\" slot=\"right\" />\r\n    </van-nav-bar>\r\n    <div class=\"lwrapper\" ref=\"lwrapper\">\r\n      <ul class=\"left\">\r\n        <li @click=\"selectMenu(index,$event)\" v-for=\"(item,i) of provice\" :key=\"i\">{{item.provice}}<i></i></li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"rwrapper\" ref=\"rwrapper\">\r\n      <h5><van-icon name=\"location-o\" />当前选择：</h5>\r\n      <h3>推荐店铺</h3>\r\n      <ul class=\"right\">\r\n        <li v-for=\"(item,i) of lists\" :key=\"i\" class=\"shoplist\">\r\n          <div>\r\n            <div class=\"card\">\r\n              <div><img src=\"\"></div>\r\n              <div class=\"shopname\">\r\n                <span>{{item.sname}}</span>\r\n                <a href=\"#\">立即预约</a>\r\n              </div>\r\n              <div class=\"address\">\r\n                <van-icon name=\"location-o\" />\r\n                {{item.saddress}}\r\n              </div>\r\n            </div> \r\n          </div>     \r\n        </li>\r\n      </ul>          \r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from 'better-scroll';\r\n  export default {\r\n    data() {\r\n      return {\r\n        lists:[],\r\n        provice:[],\r\n      }\r\n    },\r\n    created() {\r\n      this.getshoplist()\r\n    },\r\n    // computed: {\r\n    //   currentIndex(){\r\n    //       for( let i = 0;i<this.listHeight.length;i++ ){\r\n    //         let height1 = this.listHeight[i];\r\n    //         let height2 = this.listHeight[i+1];\r\n    //         //当遍历到listHeight最后一个元素的时候，height2的值为undefined,如果是\r\n    //         //最后一个元素的话!height2为真，后面就不需要判断了\r\n    //         if( !height2 || (this.scrollY >= height1 && this.scrollY<height2)){\r\n    //           return i;\r\n    //         }\r\n    //       }\r\n    //       //默认情况下是返回第一个元素\r\n    //       return 0;\r\n    //   }\r\n    // },\r\n    mounted() {\r\n      // 设置20ms的延迟\r\n      setTimeout(() => {\r\n          this._initScroll();\r\n      }, 20);\r\n      // 监听窗口改变重置高度\r\n      window.addEventListener('resize', () => {\r\n          this.height = window.innerHeight + 'px';\r\n      })\r\n    },\r\n    methods: {\r\n      selectMenu(index,event){\r\n        console.log(111)\r\n        let foodList = this.$refs.shoplist; \r\n        let el = foodList[index];\r\n        this.foodsScroll.scrollToElement(el,300);                                       \r\n      },\r\n       _initScroll() {\r\n          this.menuScroll = new BScroll(this.$refs.lwrapper,{\r\n        });\r\n        this.foodsScroll = new BScroll(this.$refs.rwrapper,{\r\n        });\r\n      },\r\n    //  _calculateHeight(){\r\n    //       let foodList = this.$refs.shoplist; //获取到所有的ref='foodList'的DOM元素\r\n    //       let height = 0;\r\n    //       this.listHeight.push(height); //第一个元素的高度是0\r\n    //       for( let i =0;i<foodList.length;i++ ){\r\n    //         let item = foodList[i];\r\n    //         height += item.clientHeight;//通过原生DOM中的js获取到li的高度，并且累加\r\n    //         this.listHeight.push(height);\r\n    //       } \r\n    //   },\r\n      onClickLeft(){\r\n        this.$router.go(-1)\r\n      },\r\n      onClickRight(){\r\n        this.$router.push('/main')\r\n      },\r\n      getshoplist(){\r\n        this.axios.get(\"index/search\").then(result=>{\r\n          //console.log(result.data)\r\n          this.provice = result.data.provice\r\n          console.log(result.data)\r\n          this.lists = result.data.address\r\n          console.log(this.simg)\r\n        \r\n        })\r\n      },\r\n    },\r\n  }\r\n</script>\r\n<style scoped>\r\n  .van-nav-bar{\r\n    height:44px;\r\n    line-height:44px;\r\n  }\r\n  .van-nav-bar__text{\r\n    color:#231815;\r\n    font-size:22px;\r\n  }\r\n  .van-nav-bar .van-icon-wap-home,.van-nav-bar .van-icon-bars{\r\n    font-size:20px;\r\n    color:#999;\r\n  }\r\n  .van-nav-bar .van-icon-wap-home{\r\n    margin-right:10px;\r\n  }\r\n  .van-tree-select__nav-item{\r\n    width:124px;\r\n    height:55px;\r\n    text-align:center;\r\n    color:#222;\r\n    font-size:15px;\r\n    margin-right:0;\r\n    line-height:55px;\r\n  }\r\n  .lwrapper{\r\n    width:25%;\r\n    overflow:hidden;\r\n    height:623px;\r\n    background:#fff;\r\n    float:left;\r\n  }\r\n  .rwrapper{\r\n    width:75%;\r\n    overflow:hidden;\r\n    height:623px;\r\n    background:#fff;\r\n    float:right;\r\n  }\r\n  .lwrapper .left li{\r\n    height:55px; \r\n    font-size: 15px;\r\n    color:#222;\r\n    text-align:center;\r\n    line-height:55px;\r\n    position:relative;\r\n    border-bottom:1px solid #eee;\r\n    border-right:1px solid #eee;\r\n  }\r\n  .lwrapper .left i.current{\r\n    position:absolute;\r\n    width:6px;\r\n    height:18px;\r\n    background:#a57a68;\r\n    border-radius:3px;\r\n    top:18px;\r\n    left:15px;\r\n  }\r\n  .rwrapper h5{\r\n    color:#a57a68;\r\n    margin:20px 0 0px 15px;\r\n  }\r\n  .rwrapper h3{\r\n    margin:17px 0 20px 15px;\r\n    color:#222;\r\n    font-size:16px;\r\n    font-weight:400;\r\n  }\r\n  .card{\r\n    width:100%;\r\n    padding:12px 15px;\r\n    border-bottom:1px solid #ccc;\r\n  }\r\n  .card img{\r\n    width:100%;\r\n  }\r\n  .shopname{\r\n    margin-top:8px;\r\n  }\r\n  .shopname span{\r\n    font-size:15px;\r\n    color:#222;\r\n  }\r\n  .shopname a{\r\n    float:right;\r\n    padding:0 5px;\r\n    border:1px solid #a57a68;\r\n    border-radius:5px;\r\n    font-size:12px;\r\n    color:#a57a68;\r\n  }\r\n  .address{\r\n    font-size:12px;\r\n    line-height:18px;\r\n    margin-top:5px;\r\n    color:#888;\r\n  }\r\n</style>"],"sourceRoot":"src\\components\\index"}]}