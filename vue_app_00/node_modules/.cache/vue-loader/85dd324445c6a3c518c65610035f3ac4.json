{"remainingRequest":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\components\\Shopcart.vue?vue&type=style&index=0&id=1d00d226&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\src\\components\\Shopcart.vue","mtime":1563799212592},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\WEB1903\\project\\dr_project\\DR\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.van-nav-bar{\n  height:44px;\n  line-height:44px;\n}\n.van-nav-bar__text{\n  color:#231815;\n  font-size:22px;\n}\n.van-nav-bar .van-icon-wap-home,.van-nav-bar .van-icon-bars{\n  font-size:20px;\n  color:#999;\n}\n.van-nav-bar .van-icon-wap-home{\n  margin-right:10px;\n}\n.van-tree-select__nav-item{\n  width:124px;\n  height:55px;\n  text-align:center;\n  color:#222;\n  font-size:15px;\n  margin-right:0;\n  line-height:55px;\n}\n/deep/ .van-step--horizontal:last-child .van-step__circle-container{\n    right:25px;\n}\n/deep/ .van-step--horizontal:first-child .van-step__circle-container{\n    left:8px;\n}\n/deep/ .van-step--finish .van-step__line{\n    background:#a57a68;\n} \n/deep/ .van-step--finish .van-step__circle{\n    background:#ccc;\n} \n.van-tabbar-item--active{\n  color:#a57a68;\n}\n.cart{\n  padding:120px 10px 0;\n  text-align:center;\n}\n.van-icon-gem-o{\n  font-size:70px;\n  color:#ccc;\n}\n.cart p{\n  font:15px 'yahei';\n  color:#333;\n  padding: 20px 0;\n}\n.cart .a1{\n  display:block;\n  margin:0 auto;\n  width:156px;\n  height:40px;\n  border:1px solid #bf967c;\n  color:#bf967c;\n  line-height:40px;\n  font-size:16px;\n}\n.cart .a2{\n  font-size:16px;\n  color:#bf967c;\n  display:block;\n  margin:40px auto 0;\n  width:156px;\n  height:40px;\n}\n.shopcar-container {\n  background-color: #eee;\n  overflow: hidden;\n}  \n.shopcar-container .goods-list .mui-card-content-inner {\n  display: flex;\n  align-items: center;\n}\n.shopcar-container .goods-list img {\n  width: 60px;\n}\n.shopcar-container .goods-list h1 {\n  font-size: 13px;\n}\n.shopcar-container .goods-list .info {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}      \n.shopcar-container .goods-list .info .price {\n  color: red;\n  font-weight: bold;\n  margin-right:5px;\n}\n.delgood{\n  margin-left:10px;\n}\n.mui-card-content-inner.jiesuan{\n  padding-bottom:40px;\n}\n.shopcar-container .jiesuan {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}    \n.shopcar-container .red {\n  color: red;\n  font-weight: bold;\n  font-size: 16px;\n}\n",{"version":3,"sources":["Shopcart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Shopcart.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n  <div class=\"shopcar-container\">\r\n    <van-nav-bar title=\"购物袋\" left-text=\"\" left-arrow @click-left=\"onClickLeft\">\r\n      <van-icon name=\"wap-home\" slot=\"right\" @click=\"onClickRight\" />\r\n      <van-icon name=\"bars\" slot=\"right\" />\r\n    </van-nav-bar>\r\n    <van-steps  :step=\"step\"  active-color=\"#a57a68\">\r\n      <van-step>购物袋</van-step>\r\n      <van-step>\r\n           填写订单信息\r\n           签署真爱协议\r\n      </van-step>\r\n      <van-step>付款完成购买</van-step>\r\n    </van-steps>\r\n    <div class=\"cart\" v-show=\"ishide == true\">\r\n      <van-icon name=\"gem-o\" />\r\n      <p>您的购物袋内暂无商品</p>\r\n      <router-link class=\"a1\" to='my'>立即登录</router-link>\r\n      <router-link to='shopcart/product' class=\"a2\">先去逛逛</router-link>\r\n    </div>\r\n\r\n    <div class=\"goods-list\" v-show=\"!ishide\">\r\n      <!-- 商品列表项区域 -->\r\n      <div class=\"mui-card\" v-for=\"(item, i) in goodslist\" :key=\"item.id\">\r\n\t\t\t\t<div class=\"mui-card-content\">\r\n\t\t\t\t\t<div class=\"mui-card-content-inner\">\r\n            <mt-switch v-model=\"$store.getters.getGoodsSelected[item.id]\" @change=\"selectedChanged(item.id, $store.getters.getGoodsSelected[item.id])\"></mt-switch>\r\n            <img :src=\"item.img\">\r\n            <div class=\"info\">\r\n              <h1>{{ item.title }}</h1>\r\n              <p>\r\n                <span class=\"price\">￥{{ item.price }}</span>\r\n                <numbox :initcount=\"$store.getters.getGoodsCount[item.id]\" :goodsid=\"item.id\"></numbox>\r\n                <a href=\"#\" @click.prevent=\"remove(item.id, i)\" class=\"delgood\">删除</a>\r\n              </p>\r\n            </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    </div>\r\n\r\n    <!-- 结算区域 -->\r\n    <div class=\"mui-card\" v-show=\"!ishide\">\r\n\t\t\t\t<div class=\"mui-card-content\">\r\n\t\t\t\t\t<div class=\"mui-card-content-inner jiesuan\">\r\n\t\t\t\t\t\t<div class=\"left\">\r\n              <p>总计（不含运费）</p>\r\n              <p>已勾选商品 <span class=\"red\">{{ $store.getters.getGoodsCountAndAmount.count }}</span> 件， 总价<br><span class=\"red\">￥{{ $store.getters.getGoodsCountAndAmount.amount }}</span></p>\r\n            </div>\r\n             <mt-button type=\"danger\">验证并购买</mt-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n    <van-tabbar route>\r\n      <van-tabbar-item replace to=\"/main\" icon=\"wap-home\" name='main'>首页\r\n      </van-tabbar-item>\r\n      <van-tabbar-item replace to=\"/star\" icon=\"star-o\" name='star'>明星\r\n      </van-tabbar-item>\r\n      <van-tabbar-item replace to=\"/doughnut\" icon=\"like-o\" name='daugthnut'>甜甜圈\r\n      </van-tabbar-item>\r\n      <van-tabbar-item replace to=\"/shopcart\" icon=\"shopping-cart-o\" name=\"shopcart\" :info=\"this.$store.getters.getAllCount\">购物袋\r\n      </van-tabbar-item>\r\n      <van-tabbar-item replace to=\"/my\" icon=\"manager\" name=\"my\">我的\r\n      </van-tabbar-item>\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport numbox from \"./subcomponents/shopcar_numbox.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      step: 0,\r\n      ishide:true,\r\n      goodslist: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodsList()\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    var phone = localStorage.getItem('phone')\r\n    if(phone != null){\r\n      if(from.name === 'shopcart'){\r\n        var car = this.$store.state.car\r\n        console.log(car[0])\r\n        this.axios.get('insertshopcart',{params:{car:car,phone:phone}\r\n        }).then(res=>{\r\n          console.log(result)\r\n        })\r\n      }\r\n      next()\r\n    }\r\n  },\r\n  methods: {\r\n    onClickLeft(){\r\n      this.$router.go(-1)\r\n    },\r\n    onClickRight(){\r\n      this.$router.push('/main')\r\n    },\r\n    getGoodsList() {\r\n      let phone = localStorage.getItem('phone')\r\n      if(phone == null){\r\n        return;\r\n      }else{\r\n        this.ishide = !this\r\n      }\r\n      var idArr = [];\r\n      this.$store.state.car.forEach(item => idArr.push(item.id));\r\n      if (idArr.length <= 0) {\r\n        this.$toast('购物车没有任何东西,请先逛逛')     \r\n        this.$router.push({name:'shopcart-product'})\r\n      }\r\n      this.axios\r\n        .get(\"shopcart/user\",{params:{id:idArr}})\r\n        .then(result => {\r\n            this.goodslist = result.data;\r\n          });\r\n    },\r\n    remove(id, index) {\r\n      this.goodslist.splice(index, 1);\r\n      this.$store.commit(\"removeFormCar\", id);\r\n    },\r\n    selectedChanged(id, val) {\r\n      this.$store.commit(\"updateGoodsSelected\", { id, selected: val });\r\n    }\r\n  },\r\n  components: {\r\n    numbox\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .van-nav-bar{\r\n    height:44px;\r\n    line-height:44px;\r\n  }\r\n  .van-nav-bar__text{\r\n    color:#231815;\r\n    font-size:22px;\r\n  }\r\n  .van-nav-bar .van-icon-wap-home,.van-nav-bar .van-icon-bars{\r\n    font-size:20px;\r\n    color:#999;\r\n  }\r\n  .van-nav-bar .van-icon-wap-home{\r\n    margin-right:10px;\r\n  }\r\n  .van-tree-select__nav-item{\r\n    width:124px;\r\n    height:55px;\r\n    text-align:center;\r\n    color:#222;\r\n    font-size:15px;\r\n    margin-right:0;\r\n    line-height:55px;\r\n  }\r\n  /deep/ .van-step--horizontal:last-child .van-step__circle-container{\r\n      right:25px;\r\n  }\r\n  /deep/ .van-step--horizontal:first-child .van-step__circle-container{\r\n      left:8px;\r\n  }\r\n  /deep/ .van-step--finish .van-step__line{\r\n      background:#a57a68;\r\n  } \r\n  /deep/ .van-step--finish .van-step__circle{\r\n      background:#ccc;\r\n  } \r\n  .van-tabbar-item--active{\r\n    color:#a57a68;\r\n  }\r\n  .cart{\r\n    padding:120px 10px 0;\r\n    text-align:center;\r\n  }\r\n  .van-icon-gem-o{\r\n    font-size:70px;\r\n    color:#ccc;\r\n  }\r\n  .cart p{\r\n    font:15px 'yahei';\r\n    color:#333;\r\n    padding: 20px 0;\r\n  }\r\n  .cart .a1{\r\n    display:block;\r\n    margin:0 auto;\r\n    width:156px;\r\n    height:40px;\r\n    border:1px solid #bf967c;\r\n    color:#bf967c;\r\n    line-height:40px;\r\n    font-size:16px;\r\n  }\r\n  .cart .a2{\r\n    font-size:16px;\r\n    color:#bf967c;\r\n    display:block;\r\n    margin:40px auto 0;\r\n    width:156px;\r\n    height:40px;\r\n  }\r\n  .shopcar-container {\r\n    background-color: #eee;\r\n    overflow: hidden;\r\n  }  \r\n  .shopcar-container .goods-list .mui-card-content-inner {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .shopcar-container .goods-list img {\r\n    width: 60px;\r\n  }\r\n  .shopcar-container .goods-list h1 {\r\n    font-size: 13px;\r\n  }\r\n  .shopcar-container .goods-list .info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }      \r\n  .shopcar-container .goods-list .info .price {\r\n    color: red;\r\n    font-weight: bold;\r\n    margin-right:5px;\r\n  }\r\n  .delgood{\r\n    margin-left:10px;\r\n  }\r\n  .mui-card-content-inner.jiesuan{\r\n    padding-bottom:40px;\r\n  }\r\n  .shopcar-container .jiesuan {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }    \r\n  .shopcar-container .red {\r\n    color: red;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n  }\r\n</style>"]}]}